<!-- http://argbash.readthedocs.io/en/stable/guide.html -->


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Template writing guide &mdash; Argbash 2.2.2
 documentation</title>
  

  
  

  

  
  
    

  

  
  

  
    <link rel="stylesheet" href="https://media.readthedocs.org/css/sphinx_rtd_theme.css" type="text/css" />
  

  
    <link rel="top" title="Argbash 2.2.2
 documentation" href="index.html"/>
        <link rel="next" title="Argbash tools" href="usage.html"/>
        <link rel="prev" title="Installation" href="install.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>


<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="http://argbash.readthedocs.io/en/latest/guide.html" />

<link rel="stylesheet" href="https://media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = 'guide'
</script>

<script type="text/javascript" src="_static/readthedocs-dynamic-include.js"></script>

<!-- end RTD <extrahead> --></head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Argbash
          

          
            
            <img src="_static/logo.svg" class="logo" />
          
          </a>

          
            
            
            
              <div class="version">
                stable
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Template writing guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#definitions">Definitions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#positional-and-optional-arguments">Positional and optional arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#option-value-and-others">Option, Value, and others</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#your-script">Your script</a></li>
<li class="toctree-l2"><a class="reference internal" href="#argbash-api">Argbash API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#positional-arguments">Positional arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#optional-arguments">Optional arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#special-arguments">Special arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#typing-macros">Typing macros</a></li>
<li class="toctree-l3"><a class="reference internal" href="#convenience-macros">Convenience macros</a></li>
<li class="toctree-l3"><a class="reference internal" href="#action-macro">Action macro</a></li>
<li class="toctree-l3"><a class="reference internal" href="#available-shell-stuff">Available shell stuff</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-parsing-results">Using parsing results</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Argbash tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="others.html">Others</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Argbash</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Template writing guide</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/matejak/argbash/blob/bce3b7660bb0ca76ae1fd8e27a50779609d27622/doc/guide.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="template-writing-guide">
<span id="templates"></span><h1>Template writing guide<a class="headerlink" href="#template-writing-guide" title="Permalink to this headline">¶</a></h1>
<p>This section tells you how to write templates, the next one is about <code class="docutils literal"><span class="pre">argbash</span></code> script invocation.</p>
<div class="section" id="definitions">
<h2>Definitions<a class="headerlink" href="#definitions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="positional-and-optional-arguments">
<h3>Positional and optional arguments<a class="headerlink" href="#positional-and-optional-arguments" title="Permalink to this headline">¶</a></h3>
<p>There are two major types of arguments &#8212; thake an example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ls -l --sort time /home
</pre></div>
</div>
<ul class="simple">
<li>Optional arguments are <code class="docutils literal"><span class="pre">-l</span></code> and <code class="docutils literal"><span class="pre">--sort</span></code>, while we have only one</li>
<li>positional argument &#8212; <code class="docutils literal"><span class="pre">/home</span></code>.</li>
</ul>
<p>Here, the argument <code class="docutils literal"><span class="pre">-l</span></code> is optional of a boolean type (it is either on or off), <code class="docutils literal"><span class="pre">--sort</span></code> is also optional, taking exactly one value (in this case <code class="docutils literal"><span class="pre">time</span></code>).
<code class="docutils literal"><span class="pre">-l</span></code> and <code class="docutils literal"><span class="pre">--sort</span></code> are called options, hence the name <em>optional</em> arguments.
The common pattern is that optional arguments are not required, being there just for the case you need them.</p>
<p>The <code class="docutils literal"><span class="pre">/home</span></code> argument is a positional one.
In case of <code class="docutils literal"><span class="pre">ls</span></code>, the positional argument has a default &#8212; running <code class="docutils literal"><span class="pre">ls</span></code> without parameters is the same as running <code class="docutils literal"><span class="pre">ls</span> <span class="pre">&quot;.&quot;</span></code>.
<code class="docutils literal"><span class="pre">ls</span></code> itself accepts an arbitrary number of positional arguments and it treats them all in the same way.</p>
<p>On the other hand, the <code class="docutils literal"><span class="pre">grep</span></code> command requires at least one positional argument.
The first one is supposed to be the regular expression you want to match against, and the other ones correspond to filenames, so they are not treated the same.
The first positional argument <code class="docutils literal"><span class="pre">grep</span></code> accepts (i.e. the regular expression), doesn&#8217;t have a default, whereas the second one normally defaults to <code class="docutils literal"><span class="pre">-</span></code>, which means <code class="docutils literal"><span class="pre">grep</span></code> will try to read input from <code class="docutils literal"><span class="pre">stdin</span></code>.</p>
</div>
<div class="section" id="option-value-and-others">
<h3>Option, Value, and others<a class="headerlink" href="#option-value-and-others" title="Permalink to this headline">¶</a></h3>
<p>We have positional and optional arguments sorted out, so let&#8217;s define some other terms now keeping the example of <code class="docutils literal"><span class="pre">ls</span> <span class="pre">-l</span> <span class="pre">--sort</span> <span class="pre">time</span> <span class="pre">/home</span></code>:</p>
<ul>
<li><p class="first">Option:
The string that identifies optional arguments on the command-line, can have a short (dash and a letter, e.g. <code class="docutils literal"><span class="pre">-l</span></code>) or long (double dash and string, e.g. <code class="docutils literal"><span class="pre">--sort</span></code>) form.</p>
</li>
<li><p class="first">Value:
In connection with optional arguments, value of an argument is the string that follows it (provided that the argument expects a value to be given).
Concerning positional arguments, it is simply the string on the command-line (whose location matches the location in which we expect the given positional argument).
So in our example, the values are <code class="docutils literal"><span class="pre">time</span></code> and <code class="docutils literal"><span class="pre">home</span></code>.</p>
</li>
<li><p class="first">Name:
Both positional and optional arguments have a name.
In case of optional argument, the name is what appears after the long option&#8217;s the double dash, e.g. name of <code class="docutils literal"><span class="pre">--project-path</span></code> is <code class="docutils literal"><span class="pre">project-path</span></code>.
The argument&#8217;s name is used in help and later in your script when you access argument&#8217;s value.
Names of positional arguments are much less visible to the script&#8217;s user &#8212; one can see them only in the help message.</p>
</li>
<li><p class="first">Argument:
An argument is the high-level concept.
On command-line, arguments are identified by options (which themselves may or may be not followed by values).
Although this is confusing, it is a common way of putting it.
In our example, we have</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">-l</span></code> &#8212; this argument has only the option, but never accepts values.</li>
<li><code class="docutils literal"><span class="pre">--sort</span></code> &#8212; this argument accepts exactly one value (in this case, the string <code class="docutils literal"><span class="pre">time</span></code>).
If you don&#8217;t provide a value, you will get an error.</li>
</ul>
<p><code class="docutils literal"><span class="pre">Argbash</span></code> exposes values of passed arguments as environmental variables.</p>
</li>
<li><p class="first">Default:
In case of positional and boolean arguments, you may specify their default values.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">General notice:
There is no way of how to find out whether an argument was passed or not just by looking at the value of the corresponding environmental variable in the script.
<code class="docutils literal"><span class="pre">bash</span></code> doesn&#8217;t distinguish between empty variables and variables containing an empty string.
Also note that it is perfectly possible to pass an empty string as an argument value.</p>
</div>
</li>
</ul>
<p>So let&#8217;s get back to argument types.
Below, is a list of argument types and macros that you have to write to support those (e.g. <code class="docutils literal"><span class="pre">ARGBASH_GO</span></code> is a macro and <code class="docutils literal"><span class="pre">ARG_OPTIONAL_BOOLEAN([verbose],</span> <span class="pre">[Verbose</span> <span class="pre">mode])</span></code> is a macro called wit two arguments &#8212; <code class="docutils literal"><span class="pre">verbose</span></code> and <code class="docutils literal"><span class="pre">Verbose</span> <span class="pre">mode</span></code>).
Place those macros in your files as <code class="docutils literal"><span class="pre">bash</span></code> comments.</p>
</div>
</div>
<div class="section" id="your-script">
<h2>Your script<a class="headerlink" href="#your-script" title="Permalink to this headline">¶</a></h2>
<p>You have to decide what arguments should your script support.
As of this version, <code class="docutils literal"><span class="pre">Argbash</span></code> lets you choose from:</p>
<ul class="simple">
<li>Single-value positional arguments (with optional defaults),</li>
<li>single-value optional arguments,</li>
<li>boolean optional arguments,</li>
<li>action optional arguments (i.e. the <code class="docutils literal"><span class="pre">--version</span></code> and <code class="docutils literal"><span class="pre">--help</span></code> type of args) and</li>
<li>incremental arguments that &#8220;remember&#8221; how many times they have been repeated (e.g. <code class="docutils literal"><span class="pre">--verbose</span></code>) and</li>
<li>repeatable arguments that sequentially store their values into an array (e.g. <code class="docutils literal"><span class="pre">-I</span></code>).</li>
</ul>
<p>Plus, there are convenience macros that don&#8217;t relate to argument parsing, but they might help you to write better scripts and a helper that enables you to easily wrap other <code class="docutils literal"><span class="pre">Argbash</span></code>-aware scripts without fuss.</p>
<p>Take a look at the API and place the declarations either to your script or in a separate file.
Let yourself be inspired by the <code class="docutils literal"><span class="pre">resources/examples/simple.m4</span></code> example (<code class="docutils literal"><span class="pre">bash</span></code> syntax highlighting is recommended, despite the extension).</p>
<p>Then, run the following command to your file:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>bin/argbash myfile.m4 -o myfile.sh
</pre></div>
</div>
<p>to either get a script that should just work, or a file that you include in your script.</p>
</div>
<div class="section" id="argbash-api">
<span id="id1"></span><h2>Argbash API<a class="headerlink" href="#argbash-api" title="Permalink to this headline">¶</a></h2>
<p>Put macro parameters in square brackets.
Parameters marked as optional can be left out blank.</p>
<p>The following code leaves second and last parameters blank.
Values of first and third parameters are <code class="docutils literal"><span class="pre">verbose</span></code> and <code class="docutils literal"><span class="pre">Turn</span> <span class="pre">on</span> <span class="pre">verbose</span> <span class="pre">mode</span></code> respectively.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_OPTIONAL_BOOLEAN([verbose], , [Turn on verbose mode], )
</pre></div>
</div>
<div class="section" id="positional-arguments">
<h3>Positional arguments<a class="headerlink" href="#positional-arguments" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Single-value positional argument (with optional default):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_POSITIONAL_SINGLE([argument-name], [help message], [default (optional)])
</pre></div>
</div>
<p>The argument is mandatory, unless you specify a default.</p>
<p>If you leave the default blank, it is understood that you don&#8217;t want one (and that the argument is mandatory).
If you really want to have an explicit default of empty string, pass a quoted empty string (i.e. <code class="docutils literal"><span class="pre">&quot;&quot;</span></code> or <code class="docutils literal"><span class="pre">''</span></code>).</p>
</li>
<li><p class="first">Multi-value positional argument (with optional defaults):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_POSITIONAL_MULTI([argument-name], [help message], [number of arguments], ..., [default for the second-to-last (i.e. penultimate) argument (optional)], [default for the last argument (optional)])
</pre></div>
</div>
<p>Given that your argument accepts <span class="math">\(n\)</span> values, you can specify <span class="math">\(m\)</span> defaults, <span class="math">\((m \leq n)\)</span> for last <span class="math">\(m\)</span> values.</p>
<p>For example, consider that your script makes use of only one multi-value argument, which accepts 3 values with two defaults <code class="docutils literal"><span class="pre">bar</span></code> and <code class="docutils literal"><span class="pre">baz</span></code>.
Then, it is imperative that at least one value is specified on the command-line.
So If you pass a value <code class="docutils literal"><span class="pre">val1</span></code> on the command-line, you will be able to retrieve <code class="docutils literal"><span class="pre">val1</span></code>, <code class="docutils literal"><span class="pre">bar</span></code> and <code class="docutils literal"><span class="pre">baz</span></code> inside the script.
If you pass <code class="docutils literal"><span class="pre">val1</span></code> and <code class="docutils literal"><span class="pre">val2</span></code>, you will be able to retrieve <code class="docutils literal"><span class="pre">val1</span></code>, <code class="docutils literal"><span class="pre">val2</span></code> and <code class="docutils literal"><span class="pre">baz</span></code>.
If you pass nothing, or more than three values, an error will occur.</p>
<p>Arguments are available as a <code class="docutils literal"><span class="pre">bash</span></code> array (first element has index of 0).</p>
</li>
<li><p class="first">Infinitely many-valued positional argument (with optional defaults):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_POSITIONAL_INF([argument-name], [help message], [minimal number of arguments (optional, default=0)], [default for the first non-required argument (optional)], ...)
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">Argbash</span></code> supports arguments with arbitrary number of values.
However, you can require a minimal amount of values the caller has to provide and you can also assign defaults for the values that are not required.
Given that your argument accepts at least <span class="math">\(n\)</span> values, you can specify defaults for <span class="math">\(n + 1\)</span><sup>th</sup> argument (and so on).</p>
<p>For example, consider that your script makes use of infinitely many-valued argument, which accepts at least 1 value and also has two defaults <code class="docutils literal"><span class="pre">bar</span></code> and <code class="docutils literal"><span class="pre">baz</span></code>.
Then, it is imperative that at least one value is specified on the command-line.
So If you pass a value <code class="docutils literal"><span class="pre">val1</span></code> on the command-line, you will be able to retrieve <code class="docutils literal"><span class="pre">val1</span></code>, <code class="docutils literal"><span class="pre">bar</span></code> and <code class="docutils literal"><span class="pre">baz</span></code> inside the script.
If you pass <code class="docutils literal"><span class="pre">val1</span></code>, <code class="docutils literal"><span class="pre">val2</span></code>, <code class="docutils literal"><span class="pre">val3</span></code> and <code class="docutils literal"><span class="pre">val4</span></code>, you will be able to retrieve <code class="docutils literal"><span class="pre">val1</span></code>, <code class="docutils literal"><span class="pre">val2</span></code> <code class="docutils literal"><span class="pre">val3</span></code> and <code class="docutils literal"><span class="pre">val4</span></code>.</p>
<p>Arguments are available as a <code class="docutils literal"><span class="pre">bash</span></code> array (first element has index of 0).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The main difference between <code class="docutils literal"><span class="pre">ARG_POSITIONAL_MULTI</span></code> and <code class="docutils literal"><span class="pre">ARG_POSITIONAL_INF</span></code> is in handling of defaults.
In <code class="docutils literal"><span class="pre">ARG_POSITIONAL_MULTI</span></code>, defaults determine the number of values that are required to be supplied.
In <code class="docutils literal"><span class="pre">ARG_POSITIONAL_INF</span></code>, you determine the number of required values and defaults follow.</p>
</div>
</li>
<li><p class="first">End of optional arguments and beginning of positional ones (the double-dash <code class="docutils literal"><span class="pre">--</span></code>):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ARG_POSITIONAL_DOUBLEDASH</span><span class="p">()</span>
</pre></div>
</div>
<p>You are encouraged to add this to your script if you use both positional and optional arguments.</p>
<p>This pattern is known for example from the <code class="docutils literal"><span class="pre">grep</span></code> command.
The idea is that you specify optional arguments first and then, whatever argument follows it, it is considered to be a positional one no matter how it looks.
For example, if your script accepts a <code class="docutils literal"><span class="pre">--help</span></code> optional argument and you want it to be recognized as positional, using the double-dash is the only way.</p>
</li>
</ul>
</div>
<div class="section" id="optional-arguments">
<h3>Optional arguments<a class="headerlink" href="#optional-arguments" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Single-value optional arguments:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_OPTIONAL_SINGLE([argument-name-long], [argument-name-short (optional)], [help message], [default (optional)])
</pre></div>
</div>
<p>The default default is an empty string.</p>
</li>
<li><p class="first">Boolean optional arguments:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_OPTIONAL_BOOLEAN([argument-name-long], [argument-name-short (optional)], [help message], [default (optional)])
</pre></div>
</div>
<p>The default default is <code class="docutils literal"><span class="pre">off</span></code> (the only alternative is <code class="docutils literal"><span class="pre">on</span></code>).</p>
</li>
<li><p class="first">Incremental optional arguments:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_OPTIONAL_INCREMENTAL([argument-name-long], [argument-name-short (optional)], [help message], [default (optional)])
</pre></div>
</div>
<p>The default default is 0.
The argument accepts no values on command-line, but it tracks a numerical value internally.
That one increases with every argument occurence.</p>
</li>
<li><p class="first">Repeated optional arguments:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_OPTIONAL_REPEATED([argument-name-long], [argument-name-short (optional)], [help message], [default (optional)])
</pre></div>
</div>
<p>The default default is an empty array.
The argument can be repeated multiple times, but instead of the later specifications overriding earlier ones (s.a. <code class="docutils literal"><span class="pre">ARG_OPTIONAL_SINGLE</span></code> does), arguments are gradually appended to an array.
The form of the default is what you normally put between the brackets when you create <code class="docutils literal"><span class="pre">bash</span></code> arrays, so put whitespace-separated values in there, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_OPTIONAL_REPEATED([include], [I], [Directories where to look for include files], [&#39;/usr/include&#39; &#39;/usr/local/include&#39;])
</pre></div>
</div>
</li>
<li><p class="first">Action optional arguments (i.e. the <code class="docutils literal"><span class="pre">--version</span></code> and <code class="docutils literal"><span class="pre">--help</span></code> type of comments):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_OPTIONAL_ACTION([argument-name-long], [argument-name-short (optional)], [help message], [code to execute when specified])
</pre></div>
</div>
<p>The scripts exits after the argument is encountered.
You can specify a name of a function, <code class="docutils literal"><span class="pre">echo</span> <span class="pre">&quot;my-script:</span> <span class="pre">v0.5&quot;</span></code> and whatever else.
This is simply a shell code that will be executed as-is (including <code class="docutils literal"><span class="pre">&quot;</span></code> and <code class="docutils literal"><span class="pre">'</span></code> quotes) when the argument is passed.
It can be multi-line, but if you need something sophisticated, it is recommended to define a shell function in your script template and call that one instead.</p>
</li>
</ul>
</div>
<div class="section" id="special-arguments">
<h3>Special arguments<a class="headerlink" href="#special-arguments" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Help argument (a special case of an optional action argument):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_HELP([short program description (optional)], [long program description (optional)])
</pre></div>
</div>
<p>This will generate the <code class="docutils literal"><span class="pre">--help</span></code> and <code class="docutils literal"><span class="pre">-h</span></code> action arguments that will print the usage information.
Notice that the usage information is generated even if this macro is not used &#8212; we print it when we think that there is something wrong with arguments that were passed.</p>
<p>The long program desription is a string passed to <code class="docutils literal"><span class="pre">printf</span></code> (so you may use <code class="docutils literal"><span class="pre">\n</span></code> to make it multiline etc.).</p>
</li>
<li><p class="first">Version argument (a special case of an action argument):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_VERSION([code to execute when specified])
</pre></div>
</div>
</li>
<li><p class="first">Verbose argument (a special case of a repeated argument):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_VERBOSE([short arg name])
</pre></div>
</div>
<p>Default default is 0, so you can use a <code class="docutils literal"><span class="pre">test</span> <span class="pre">$_arg_verbose</span> <span class="pre">-ge</span> <span class="pre">1</span></code> pattern in your script.</p>
</li>
<li><p class="first">Collect leftovers:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_LEFTOVERS([help text (optional)])
</pre></div>
</div>
<p>This macro allows your script to accept more arguments and collect them consequently in the <code class="docutils literal"><span class="pre">_arg_leftovers</span></code> array.</p>
<p>A use case for this is wrapping of scripts that are completely <code class="docutils literal"><span class="pre">Argbash</span></code>-agnostic.
Therefore, your script can take its own arguments and the rest that is not recognized can go to the wrapped script.</p>
</li>
</ul>
</div>
<div class="section" id="typing-macros">
<h3>Typing macros<a class="headerlink" href="#typing-macros" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Features described in this section are experimental.
Macros in the type-related section below are not an official part of the API yet &#8212; their names and/or signature may change.</p>
<p class="last">The documentation here is just a peek into the <code class="docutils literal"><span class="pre">Argbash</span></code> future.
Please raise an issue if you feel you can provide helpful feedback!</p>
</div>
<p><code class="docutils literal"><span class="pre">Argbash</span></code> supports typed argument values.
For example, you can declare that a certain argument requires an integer value, and if its value by the time of conclusion of the parsing part of the script is not of an integer type, an error is raised.
The validator sometimes retutrns the value in a cannonical form (e.g. it may trim leading and trailing whitespaces).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Users of your script have to have a working <code class="docutils literal"><span class="pre">grep</span></code> in order to use this.</p>
</div>
<p>Generally, macros accept these parameters:</p>
<ul class="simple">
<li>Type code.
In some cases, you make it up and in other cases, you have to know the right one.
End-users of your script won&#8217;t even see it.</li>
<li>Type string.
This is used in the script&#8217;s help.</li>
<li>List of arguments whose values are of the given type.
Typically, <code class="docutils literal"><span class="pre">[arg1,</span> <span class="pre">arg2]</span></code> is OK<a class="footnote-reference" href="#id3" id="id2">[*]</a>.</li>
</ul>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[*]</a></td><td>Passing <code class="docutils literal"><span class="pre">arg1,</span> <span class="pre">arg2</span></code> won&#8217;t work (of course &#8212; this represents two arguments, not one that is a list), <code class="docutils literal"><span class="pre">[arg1,</span> <span class="pre">arg2]</span></code> will work in most cases (when neither <code class="docutils literal"><span class="pre">arg1</span></code> or <code class="docutils literal"><span class="pre">arg2</span></code> have been defined as a macro), whereas <code class="docutils literal"><span class="pre">[[arg1],[arg2]]</span></code> will work no matter what.</td></tr>
</tbody>
</table>
<p>You have these possibilities:</p>
<ul>
<li><p class="first">Built-in types:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_TYPE_GROUP([type code], [type string], [list of arguments of that type])
</pre></div>
</div>
<p>Type code is a code of one of the types that are supported, type string is used in help.</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>integer</td>
</tr>
<tr class="row-odd"><td>pint</td>
<td>positive integer</td>
</tr>
<tr class="row-even"><td>nnint</td>
<td>non-negative integer</td>
</tr>
<tr class="row-odd"><td>float</td>
<td>floating-point number (e.g. 4.2e1)</td>
</tr>
<tr class="row-even"><td>decimal</td>
<td>float without the exponential stuff (e.g. 42.0)</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>anything <a class="footnote-reference" href="#id5" id="id4">[†]</a></td>
</tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[†]</a></td><td><p class="first last">The type <code class="docutils literal"><span class="pre">string</span></code> is used as a means to modify the help message, no validation or conversion takes place.</p>
</td></tr>
</tbody>
</table>
<p>As an example, if you have an argument <code class="docutils literal"><span class="pre">--iterations</span></code> that accepts a value representing how many times to repeat something, you use</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ARG_TYPE_GROUP</span><span class="p">([</span><span class="n">nnint</span><span class="p">],</span> <span class="p">[</span><span class="n">COUNT</span><span class="p">],</span> <span class="p">[</span><span class="n">iterations</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p class="first">One-of values (i.e. values are restricted to be members of a set).</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_TYPE_GROUP_SET([type code], [type string], [list of arguments of that type], [list of values of that type], [suffix of the index variable (optional)])
</pre></div>
</div>
<p>If the suffix of the index variable is provided, each argument of the type will have a variable <code class="docutils literal"><span class="pre">_arg_&lt;stem&gt;_&lt;suffix&gt;</span></code> that contains the 0-based index of the argument value in the allowed values list.
You will typically want to use it as described in the next example:</p>
<p>Remarks:</p>
<ul class="simple">
<li>Pass the list of values without shell-quoting.
Double quotes will be applied later.</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_TYPE_GROUP_SET([operations], [OPERATION], [start-with,stop-with], [configure,make,install], [index])
</pre></div>
</div>
<p>and later in the code, you can use a construct like</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># fail e.g. when we start-with make and stop-with configure.</span>
<span class="c1"># It would work if it was the other way.</span>
<span class="nb">test</span> <span class="s2">&quot;</span><span class="nv">$_arg_stop_with_index</span><span class="s2">&quot;</span> -gt <span class="s2">&quot;</span><span class="nv">$_arg_start_with_index</span><span class="s2">&quot;</span> <span class="se">\</span>
   <span class="o">||</span> die <span class="s2">&quot;The last operation has to be a successor of the first one, which is not the case.&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Filenames</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>DEFINE_VALUE_TYPE_FILE([type], [mode], [type string], [list of arguments of that type])
</pre></div>
</div>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">type</span></code> string is either <code class="docutils literal"><span class="pre">in</span></code> or <code class="docutils literal"><span class="pre">out</span></code>.
Input files have to exist, output files have to have their parent directory writable.</li>
<li><code class="docutils literal"><span class="pre">mode</span></code> string is a <code class="docutils literal"><span class="pre">rwx</span></code>-type of string.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="convenience-macros">
<h3>Convenience macros<a class="headerlink" href="#convenience-macros" title="Permalink to this headline">¶</a></h3>
<p>Plus, there are convenience macros:</p>
<ul>
<li><p class="first">Set the indentation in the parsing part of the script:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARGBASH_SET_INDENT([indentation character(s)])
</pre></div>
</div>
<p>The default indentation is one tab per level.
If you wish to use two spaces as the <a class="reference external" href="https://google.github.io/styleguide/shell.xml">Google style recommends</a>, simply pass two spaces (in square brackets!) as an argument to the macro.</p>
</li>
<li><p class="first">Set the delimiter between option and value:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARGBASH_SET_DELIM([option-value delimiter caracter(s)])
</pre></div>
</div>
<p>The default delimiter is either space or equal sign.
You can either restrict delimiter to only space or only equal sign, or you can keep both.
Assuming you have an option accepting value (can be either single-valued or repeated) <code class="docutils literal"><span class="pre">--option</span></code> with short option <code class="docutils literal"><span class="pre">-o</span></code>, the following works with these arguments to the macro:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ARGBASH_SET_DELIM([</span> <span class="pre">])</span></code>: Either of <code class="docutils literal"><span class="pre">--option</span> <span class="pre">value</span></code>, <code class="docutils literal"><span class="pre">--o</span> <span class="pre">value</span></code> assigns value to the <code class="docutils literal"><span class="pre">option</span></code> argument.
<code class="docutils literal"><span class="pre">--option=value</span></code> will be considered as a single positional argument.</li>
<li><code class="docutils literal"><span class="pre">ARGBASH_SET_DELIM([=])</span></code>: Either of <code class="docutils literal"><span class="pre">--option=value</span></code>, <code class="docutils literal"><span class="pre">--o</span> <span class="pre">value</span></code> assigns value to the <code class="docutils literal"><span class="pre">option</span></code> argument.
<code class="docutils literal"><span class="pre">--option</span> <span class="pre">value</span></code> will result in both <code class="docutils literal"><span class="pre">--option</span></code> and <code class="docutils literal"><span class="pre">value</span></code> to be considered as two positional arguments.
<code class="docutils literal"><span class="pre">-o=value</span></code> will also be considered as a positional argument.</li>
<li><code class="docutils literal"><span class="pre">ARGBASH_SET_DELIM([=</span> <span class="pre">])</span></code> (or <code class="docutils literal"><span class="pre">[</span> <span class="pre">=]</span></code>): Either of <code class="docutils literal"><span class="pre">--option=value</span></code>, <code class="docutils literal"><span class="pre">--o</span> <span class="pre">value</span></code>, <code class="docutils literal"><span class="pre">--option</span> <span class="pre">value</span></code> assigns value to the <code class="docutils literal"><span class="pre">option</span></code> argument; they are treated the same way.
This is the default behavior.</li>
</ul>
</li>
</ul>
<ul id="script-dir">
<li><p class="first">Add a line where the directory where the script is running is stored in an environmental variable:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>DEFINE_SCRIPT_DIR([variable name (optional, default is script_dir)])
</pre></div>
</div>
<p>You can use this variable to e.g. source <code class="docutils literal"><span class="pre">bash</span></code> snippets that are in a known location relative to the script&#8217;s parent directory.</p>
</li>
</ul>
<ul id="parsing-code">
<li><p class="first">Include a file (let&#8217;s say a <code class="docutils literal"><span class="pre">parse.sh</span></code> file) that is in the same directory during runtime.
If you use this in your script, <code class="docutils literal"><span class="pre">Argbash</span></code> finds out and attempts to regenerate <code class="docutils literal"><span class="pre">parse.sh</span></code> using <code class="docutils literal"><span class="pre">parse.sh</span></code> or <code class="docutils literal"><span class="pre">parse.m4</span></code> if the former is not available.
Thanks to this, managing a script with body and parsing logic in separate files is really easy.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>INCLUDE_PARSING_CODE([filename], [SCRIPT_DIR variable name (optional, default is script_dir)])
</pre></div>
</div>
<p>In order to make use of <code class="docutils literal"><span class="pre">INCLUDE_PARSING_CODE</span></code>, you have to use <code class="docutils literal"><span class="pre">DEFINE_SCRIPT_DIR</span></code> on preceding lines, but you will be told so if you don&#8217;t.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Check out the example: <a class="reference internal" href="example.html#ex-separating"><span>Separating the parsing code</span></a></p>
</div>
</li>
</ul>
<ul id="argbash-wrap">
<li><p class="first">Point to a script that uses <code class="docutils literal"><span class="pre">Argbash</span></code> (or to its template), and your script will inherit its arguments (unless you exclude some of them).</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARGBASH_WRAP(filename stem, [list of long options to exclude], [flags to exclude certain arg types, default is HV for (h)elp and (v)ersion])
</pre></div>
</div>
<p>Given that you have a script <code class="docutils literal"><span class="pre">process_single.sh</span></code> and you write its wrapper <code class="docutils literal"><span class="pre">process_file.sh</span></code>
Imagine that one reads a file and passes data from every line to <code class="docutils literal"><span class="pre">process_single.sh</span></code> along with some options that <code class="docutils literal"><span class="pre">process_file.sh</span></code> accepts.</p>
<p>In this case, you write <code class="docutils literal"><span class="pre">ARGBASH_WRAP([process_single],</span> <span class="pre">[operation])</span></code> to your <code class="docutils literal"><span class="pre">process_file.m4</span></code> template.</p>
<ul>
<li><p class="first">Filename stem is a filename without a directory component or an extension.
Stems are searched for in search paths (current directory, directory of the template) and extensions <code class="docutils literal"><span class="pre">.m4</span></code> and <code class="docutils literal"><span class="pre">.sh</span></code> are tried out.</p>
</li>
<li><p class="first">The list of long options is a list of first arguments to functions such as <code class="docutils literal"><span class="pre">ARG_POSITIONAL_SINGLE</span></code>, <code class="docutils literal"><span class="pre">ARG_OPTIONAL_SINGLE</span></code>, <code class="docutils literal"><span class="pre">ARG_OPTIONAL_BOOLEAN</span></code>, etc.
Therefore, don&#8217;t include leading double dash to any of the list items that represent blacklisted optional arguments.
To blacklist the double dash positional argument feature, add the <code class="docutils literal"><span class="pre">--</span></code> symbol to the list.</p>
</li>
<li><p class="first">Flags is a string that may contain some characters.
If a flag is set, a class of arguments is excluded from the file.
The default <code class="docutils literal"><span class="pre">HVIS</span></code> should be enough in most scenarios &#8212; you want your own help, version info, indentation and option&#8211;value separator, not ones from the wrapped script, right?</p>
<p>Following flags are supported:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Character</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>H</td>
<td>Don&#8217;t include help.</td>
</tr>
<tr class="row-odd"><td>V</td>
<td>Don&#8217;t include version info.</td>
</tr>
<tr class="row-even"><td>I</td>
<td>Don&#8217;t use wrapped script&#8217;s indentation</td>
</tr>
<tr class="row-odd"><td>S</td>
<td>Don&#8217;t use wrapped script&#8217;s option&#8211;value separator</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">As a convenience feature, if you wrap a script with stem <code class="docutils literal"><span class="pre">process_single</span></code>, all options that come from the wrapped script (both arguments and values) are stored in an array <code class="docutils literal"><span class="pre">_args_process_single</span></code>.
In the case where there may be issues with positional arguments (they are order-dependent and the wrapping script may want to inject its own to the wrapped script), you can use <code class="docutils literal"><span class="pre">_args_process_single_opt</span></code>, or <code class="docutils literal"><span class="pre">_args_process_single_pos</span></code>, where only optional/positional arguments are stored.
Therefore, when you finally decide to call <code class="docutils literal"><span class="pre">process-single.sh</span></code> in your script with all wrapped arguments (e.g. <code class="docutils literal"><span class="pre">--some-opt</span> <span class="pre">foo</span> <span class="pre">--bar</span></code>), all you have to do is to write</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>./process-single.sh &quot;${_args_process_single_opt[@]}&quot;
</pre></div>
</div>
<p>which is exactly the same as</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>MAYBE_BAR=
test $_arg_bar = on &amp;&amp; MAYBE_BAR=&#39;--bar&#39;
./process-single.sh --some-opt &quot;$_arg_some_opt&quot; $MAYBE_BAR
</pre></div>
</div>
<p>The stem to array name conversion is the same as with <a class="reference internal" href="#argument-names"><span>argument names</span></a> except the prefix <code class="docutils literal"><span class="pre">_args_</span></code> is prepended.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The wrapping functionality actually only makes your script to inherit (all or some of the) the wrapped script&#8217;s arguments.
If you really wish to call the wrapped script, it is your responsibility to know its location, <code class="docutils literal"><span class="pre">Argbash</span></code> essentially can&#8217;t and won&#8217;t help you with that.</p>
<p class="last">However, if you know the relative location of the wrapped script to the wrapper, you can use the <a class="reference internal" href="#script-dir"><span>DEFINE_SCRIPT_DIR</span></a> macro.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Check out the example: <a class="reference internal" href="example.html#ex-wrapping"><span>Wrapping scripts</span></a></p>
</div>
</li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Features described at the rest of this section are experimental.
Convenience macros below are not an official part of the API yet &#8212; their names and/or signature may change.</p>
<p class="last">The documentation here is just a peek into the <code class="docutils literal"><span class="pre">Argbash</span></code> future.
Please raise an issue if you feel you can provide helpful feedback!</p>
</div>
<ul>
<li><p class="first">Declare that your script uses an environment variable, set a default for it if it is blank upon the script&#8217;s invocation and optionally mention it in the script&#8217;s help:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_USE_ENV([variable name], [default if empty (optional)], [help message (optional)])
</pre></div>
</div>
<p>For instance, if you declare <code class="docutils literal"><span class="pre">ARG_USE_ENV([ENVIRONMENT],</span> <span class="pre">[production],</span> <span class="pre">[The</span> <span class="pre">default</span> <span class="pre">environment])</span></code>, the value of the <code class="docutils literal"><span class="pre">ENVIRONMENT</span></code> environmental variable won&#8217;t be empty &#8212; if the user doesn&#8217;t do anything, it will be <code class="docutils literal"><span class="pre">production</span></code> and if the user overrides it, it will stay that way.
It is undefined whether the user can override it so it has a blank value in the script due to the user override (i.e. it is not possible now, but it may become possible in a later release.).</p>
</li>
<li><p class="first">Declare that your script calls a program and enable the caller to set it using an environmental variable.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ARG_USE_PROG([variable name], [default if empty (optional)], [help message (optional)], [args (optional)])
</pre></div>
</div>
<p>For instance, if you declare <code class="docutils literal"><span class="pre">ARG_USE_PROG([PYTHON],</span> <span class="pre">[python],</span> <span class="pre">[The</span> <span class="pre">preferred</span> <span class="pre">Python</span> <span class="pre">executable])</span></code> in your script, you can use constructs s.a. <code class="docutils literal"><span class="pre">&quot;$PYTHON&quot;</span> <span class="pre">script.py</span></code> later.
This macro operates in two modes:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">args</span></code> are not given:
The program name is searched for using the <code class="docutils literal"><span class="pre">which</span></code> utility and if it isn&#8217;t a executable, the script will terminate with an error.
<code class="docutils literal"><span class="pre">ARG_USE_PROG([PYTHON],</span> <span class="pre">[python],</span> <span class="pre">,)</span></code></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">args</span></code> are given:
The program is called with <code class="docutils literal"><span class="pre">args</span></code> and if the return code is non-zero, the script will terminate with an error.
If you want to call the program with no arguments, leave the last argument blank &#8212; the following usage is 100% legal: <code class="docutils literal"><span class="pre">ARG_USE_PROG([PYTHON],</span> <span class="pre">[python],</span> <span class="pre">,)</span></code> and it means &#8220;accept <code class="docutils literal"><span class="pre">PYTHON</span></code> with default value <code class="docutils literal"><span class="pre">python</span></code>, but don&#8217;t bother with help message and pass no arguments when evaluating whether a program is valid&#8221;.</p>
<p>Notice that this approach is wrong, calling <code class="docutils literal"><span class="pre">python</span></code> without arguments won&#8217;t work (since it starts the interactive Python interpreter) and you should use <code class="docutils literal"><span class="pre">ARG_USE_PROG([PYTHON],</span> <span class="pre">[python],</span> <span class="pre">,</span> <span class="pre">[--version])</span></code> instead.</p>
</li>
</ul>
<p>In either case, the vaule of <code class="docutils literal"><span class="pre">&quot;$PYTHON&quot;</span></code> will be either <code class="docutils literal"><span class="pre">python</span></code> (if the user doesn&#8217;t override it), or it can be whatever else what the caller sets.</p>
</li>
<li><p class="first">Declare every variable related to every positional argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ARG_DEFAULTS_POS</span>
</pre></div>
</div>
<p>By default, only variables with defaults are declared.
Since values are assigned using <code class="docutils literal"><span class="pre">eval</span></code>, static analysis tools s.a. <a class="reference external" href="https://www.shellcheck.net">shellcheck</a> may complain about referencing undeclared variables.
This macro helps to ensure that there are not these false positives.</p>
</li>
</ul>
</div>
<div class="section" id="action-macro">
<h3>Action macro<a class="headerlink" href="#action-macro" title="Permalink to this headline">¶</a></h3>
<p>Finally, you have to express your desire to generate the parsing code, help message etc.
You do that by specifying a macro <code class="docutils literal"><span class="pre">ARGBASH_GO</span></code>.
The macro doesn&#8217;t take any parameters.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ARGBASH_GO</span>
</pre></div>
</div>
</div>
<div class="section" id="available-shell-stuff">
<h3>Available shell stuff<a class="headerlink" href="#available-shell-stuff" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Variable <code class="docutils literal"><span class="pre">script_dir</span></code> that is available if the <a class="reference internal" href="#script-dir"><span>DEFINE_SCRIPT_DIR</span></a> is used.</p>
</li>
<li><p class="first">Function <code class="docutils literal"><span class="pre">die</span></code>.</p>
<p>Accepts two parameters &#8212; string that is printed to <code class="docutils literal"><span class="pre">stderr</span></code> and exit status number (optional, default is 1).
If an environmental variable <code class="docutils literal"><span class="pre">_PRINT_HELP</span></code> is set to <code class="docutils literal"><span class="pre">yes</span></code>, it prints help before the error message.</p>
</li>
</ul>
</div>
<div class="section" id="using-parsing-results">
<span id="argument-names"></span><h3>Using parsing results<a class="headerlink" href="#using-parsing-results" title="Permalink to this headline">¶</a></h3>
<p>The key is that parsing results are saved in environmental variables that relate to argument (long) names.
The argument name is transliterated like this:</p>
<ol class="arabic">
<li><p class="first">All letters are made lower-case</p>
</li>
<li><p class="first">Dashes are transliterated to underscores (<code class="docutils literal"><span class="pre">include-batteries</span></code> becomes <code class="docutils literal"><span class="pre">include_batteries</span></code>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">_arg_</span></code> is prepended to the string.</p>
<p>So given that you have an argument <code class="docutils literal"><span class="pre">--include-batteries</span></code> that expects a value, you can access it via environmental variable <code class="docutils literal"><span class="pre">_arg_include_batteries</span></code>.</p>
</li>
</ol>
<ul class="simple">
<li>Boolean arguments have values either <code class="docutils literal"><span class="pre">on</span></code> or <code class="docutils literal"><span class="pre">off</span></code>.
If (a boolean argument) <code class="docutils literal"><span class="pre">--quiet</span></code> is passed, value of <code class="docutils literal"><span class="pre">_arg_quiet</span></code> is set to <code class="docutils literal"><span class="pre">on</span></code>.
Conversely, if <code class="docutils literal"><span class="pre">--no-quiet</span></code> is passed, value of <code class="docutils literal"><span class="pre">_arg_quiet</span></code> is set to <code class="docutils literal"><span class="pre">off</span></code>.</li>
<li>Repeated arguments collect values to a <a class="reference external" href="http://">bash array</a>.</li>
<li>Incremental arguments have a default value (0 by default) and their value in the script corresponds to the default plus the number of times the argument was specified.</li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="usage.html" class="btn btn-neutral float-right" title="Argbash tools" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="install.html" class="btn btn-neutral" title="Installation" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Matěj Týč.
      
        <span class="commit">
          Revision <code>3d900597</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: stable
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="/en/latest/">latest</a></dd>
        
          <dd><a href="/en/stable/">stable</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="//readthedocs.org/projects/argbash/downloads/pdf/stable/">pdf</a></dd>
        
          <dd><a href="//readthedocs.org/projects/argbash/downloads/htmlzip/stable/">htmlzip</a></dd>
        
          <dd><a href="//readthedocs.org/projects/argbash/downloads/epub/stable/">epub</a></dd>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="//readthedocs.org/projects/argbash/?fromdocs=argbash">Project Home</a>
          </dd>
          <dd>
            <a href="//readthedocs.org/builds/argbash/?fromdocs=argbash">Builds</a>
          </dd>
      </dl>
      <hr/>
      Free document hosting provided by <a href="http://www.readthedocs.org">Read the Docs</a>.

    </div>
  </div>



  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.2.2
',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-2.0.3.min.js"></script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-migrate-1.2.1.min.js"></script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/underscore.js"></script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/readthedocs-doc-embed.js"></script>

  

  
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
